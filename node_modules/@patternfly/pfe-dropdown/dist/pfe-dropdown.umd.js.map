{"version":3,"file":"pfe-dropdown.umd.js","sources":["../_temp/pfe-dropdown-item.js","../_temp/pfe-dropdown.umd.js"],"sourcesContent":["/*!\n * PatternFly Elements: PfeDropdown 1.0.0-prerelease.55\n * @license\n * Copyright 2020 Red Hat, Inc.\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n * \n*/\n\nimport PFElement from \"../../pfelement/dist/pfelement.js\";\n\nclass PfeDropdownItem extends PFElement {\n  static get version() {\n    return \"1.0.0-prerelease.55\";\n  }\n\n  get html() {\n    return `<style>::slotted(*){display:block;width:100%;padding:calc(16px * .5) calc(16px * .5);padding:var(--pfe-dropdown--spacing--vertical,var(--pfe-dropdown--SpacingHorizontal,calc(var(--pfe-theme--container-padding,16px) * .5))) var(--pfe-dropdown--spacing--horizontal,var(--pfe-dropdown--SpacingHorizontal,calc(var(--pfe-theme--container-padding,16px) * .5)));color:#030303;color:var(--pfe-dropdown--Color,#030303);font-size:16px;font-size:var(--pfe-dropdown--FontSize,var(--pfe-theme--font-size,16px));font-weight:400;font-weight:var(--pfe-dropdown--FontWeight,400);line-height:1.5;line-height:var(--pfe-dropdown--LineHeight,var(--pfe-theme--line-height,1.5));text-align:left;text-align:var(--pfe-dropdown--TextAlign,left);white-space:nowrap;-webkit-box-sizing:border-box;box-sizing:border-box;text-decoration:none;font-family:inherit;font-family:var(--pfe-theme--font-family,inherit);cursor:pointer}::slotted(button){background-color:transparent;background-color:var(--pfe-dropdown--BackgroundColor,transparent);border:none;border:var(--pfe-dropdown--Border,none)}.pfe-dropdown-item__container:active,.pfe-dropdown-item__container:focus,.pfe-dropdown-item__container:hover{background-color:#f0f0f0;background-color:var(--pfe-dropdown--BackgroundColor--hover,var(--pfe-theme--color--surface--lighter,#f0f0f0));color:#151515;color:var(--pfe-dropdown--Color--hover,#151515)}:host([pfe-item-type=separator]) .pfe-dropdown-item__container{height:1px;background-color:#f0f0f0}:host([is_disabled]) .pfe-dropdown-item__container{pointer-events:none;--pfe-dropdown--Color:#6a6e73}\n/*# sourceMappingURL=pfe-dropdown-item.min.css.map */\n</style><li class=\"pfe-dropdown-item__container\">\n  <slot></slot>\n</li>`;\n  }\n\n  static get properties() {\n    return {\"item-type\":{\"title\":\"List item type\",\"type\":\"string\",\"enum\":[\"link\",\"action\",\"separator\"],\"default\":null,\"prefixed\":true}};\n  }\n\n  static get slots() {\n    return {};\n  }\n  static get tag() {\n    return \"pfe-dropdown-item\";\n  }\n\n  get templateUrl() {\n    return \"pfe-dropdown-item.html\";\n  }\n\n  get styleUrl() {\n    return \"pfe-dropdown-item.scss\";\n  }\n\n  get schemaUrl() {\n    return \"pfe-dropdown-item.json\";\n  }\n\n  static get observedAttributes() {\n    return [\"pfe-item-type\", \"is_disabled\"];\n  }\n\n  constructor() {\n    super(PfeDropdownItem);\n\n    this._container = this.shadowRoot.querySelector(`.${this.tag}__container`);\n    this._item = this.shadowRoot.querySelector(\"slot\").assignedNodes()[1];\n  }\n\n  attributeChangedCallback(attr, oldValue, newValue) {\n    switch (attr) {\n      case \"pfe-item-type\":\n        this._setAccessibility();\n        break;\n      case \"is_disabled\":\n        this._setDisabled();\n        break;\n      default:\n        break;\n    }\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n  }\n\n  _setAccessibility() {\n    if (this._container) {\n      const type = this.getAttribute(\"pfe-item-type\");\n      if (type) {\n        switch (type) {\n          case \"link\":\n            this._container.setAttribute(\"role\", \"none\");\n            this._item && this._item.setAttribute(\"role\", \"menuitem\");\n            break;\n          case \"action\":\n            this._container.setAttribute(\"role\", \"menuitem\");\n            this._item && this._item.removeAttribute(\"role\");\n            break;\n          case \"separator\":\n            this._container.setAttribute(\"role\", \"separator\");\n            break;\n          default:\n            break;\n        }\n      }\n    }\n  }\n\n  _setDisabled() {\n    const isDisabled = this.hasAttribute(\"is_disabled\");\n    if (isDisabled) {\n      this.removeAttribute(\"tabindex\");\n      this.setAttribute(\"aria-disabled\", \"true\");\n    } else {\n      this.removeAttribute(\"is_disabled\");\n      this.setAttribute(\"tabindex\", \"0\");\n      this.setAttribute(\"aria-disabled\", \"false\");\n    }\n  }\n}\n\nexport default PfeDropdownItem;\n","/*!\n * PatternFly Elements: PfeDropdown 1.0.0-prerelease.55\n * @license\n * Copyright 2020 Red Hat, Inc.\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n * \n*/\n\nimport PFElement from \"../../pfelement/dist/pfelement.umd\";\nimport PfeDropdownItem from \"./pfe-dropdown-item.js\";\n\n// @POLYFILL  Element.closest\n// https://developer.mozilla.org/en-US/docs/Web/API/Element/closest\nif (!Element.prototype.closest) {\n  Element.prototype.closest = function(s) {\n    var el = this;\n    do {\n      if (el.matches(s)) return el;\n      el = el.parentElement || el.parentNode;\n    } while (el !== null && el.nodeType === 1);\n    return null;\n  };\n}\n\n// @POLYFILL  Element.matches\n// https://developer.mozilla.org/en-US/docs/Web/API/Element/matches\nif (!Element.prototype.matches) {\n  Element.prototype.matches =\n    Element.prototype.msMatchesSelector ||\n    Element.prototype.webkitMatchesSelector;\n}\n\nconst KEYCODE = {\n  DOWN: 40,\n  END: 35,\n  ENTER: 13,\n  ESC: 27,\n  HOME: 36,\n  LEFT: 37,\n  RIGHT: 39,\n  SPACE: 0 || 32,\n  UP: 38,\n  TAB: 9\n};\n\nclass PfeDropdown extends PFElement {\n  static get version() {\n    return \"1.0.0-prerelease.55\";\n  }\n\n  get html() {\n    return `<style>:host{position:relative;display:inline-block;max-width:100%}:host(:hover:not([is_disabled])){--pfe-dropdown__before--BorderBottomColor:var(--pfe-dropdown__before--BorderBottomColor--hover, var(--pfe-dropdown--BorderBottomColor--before--hover, var(--pfe-theme--color--ui-base, #6a6e73)))}:host(:active:not([is_disabled])),:host(:focus:not([is_disabled])){--pfe-dropdown__before--BorderBottomColor:var(--pfe-dropdown__before--BorderBottomColor--hover, var(--pfe-dropdown--BorderBottomColor--before--hover, var(--pfe-theme--color--ui-base, #6a6e73)));--pfe-dropdown__before--BorderWidth:var(--pfe-dropdown__before--BorderWidth--hover, var(--pfe-dropdown--BorderWidth--before--hover, calc(var(--pfe-theme--ui--border-width, 1px) * 2)))}:host([hidden]){display:none}:host([is_disabled]){--pfe-dropdown--BackgroundColor:var(--pfe-theme--color--surface--lighter, #f0f0f0);--pfe-dropdown--BorderWidth:0}:host([is_disabled]) .pfe-dropdown__container{pointer-events:none}.pfe-dropdown__toggle{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;min-width:calc(16px * 2);min-width:var(--pfe-dropdown--MinWidth,calc(var(--pfe-theme--container-spacer,16px) * 2));max-width:100%;max-width:var(--pfe-dropdown--MaxWidth,100%);padding:calc(16px * .5) calc(16px * .5);padding:var(--pfe-dropdown--spacing--vertical,var(--pfe-dropdown--SpacingHorizontal,calc(var(--pfe-theme--container-padding,16px) * .5))) var(--pfe-dropdown--spacing--horizontal,var(--pfe-dropdown--SpacingHorizontal,calc(var(--pfe-theme--container-padding,16px) * .5)));font-size:16px;font-size:var(--pfe-dropdown--FontSize,var(--pfe-theme--font-size,16px));font-family:inherit;font-family:var(--pfe-theme--font-family,inherit);font-weight:400;font-weight:var(--pfe-dropdown--FontWeight,400);line-height:1.5;line-height:var(--pfe-theme--line-height,1.5);color:#3c3f42;color:var(--pfe-dropdown--Color,var(--pfe-broadcasted--text,#3c3f42));background-color:transparent;background-color:var(--pfe-dropdown--BackgroundColor,transparent);border:none;border:var(--pfe-dropdown--Border,none);cursor:pointer}.pfe-dropdown__toggle::before{position:absolute;top:0;right:0;bottom:0;left:0;content:\"\";border-width:1px;border-width:var(--pfe-dropdown__before--BorderWidth,var(--pfe-dropdown--BorderWidth--before,var(--pfe-theme--ui--border-width,1px)));border-style:solid;border-style:var(--pfe-dropdown__before--BorderStyle,var(--pfe-dropdown--BorderStyle--before,var(--pfe-theme--ui--border-style,solid)));border-top-color:#f0f0f0;border-top-color:var(--pfe-dropdown__before--BorderTopColor,var(--pfe-dropdown--BorderTopColor--before,var(--pfe-theme--color--surface--lighter,#f0f0f0)));border-right-color:#f0f0f0;border-right-color:var(--pfe-dropdown__before--BorderRightColor,var(--pfe-dropdown--BorderRightColor--before,var(--pfe-theme--color--surface--lighter,#f0f0f0)));border-bottom-color:#6a6e73;border-bottom-color:var(--pfe-dropdown__before--BorderBottomColor,var(--pfe-dropdown--BorderBottomColor--before,var(--pfe-theme--color--surface--border--darker,#6a6e73)));border-left-color:#f0f0f0;border-left-color:var(--pfe-dropdown__before--BorderLeftColor,var(--pfe-dropdown--BorderLeftColor--before,var(--pfe-theme--color--surface--lighter,#f0f0f0)))}.pfe-dropdown__toggle-text{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.pfe-dropdown__toggle-icon{vertical-align:calc(16px * -.125);vertical-align:calc(var(--pfe-theme--container-spacer,16px) * -.125);fill:currentColor;height:1em;height:var(--pfe-theme--icon-size,1em);width:var(--pfe-dropdown__toggle-icon--Width);margin-right:calc(16px * .5);margin-right:calc(var(--pfe-theme--container-spacer,16px) * .5);margin-left:16px;margin-left:var(--pfe-theme--container-spacer,16px);line-height:1.5;line-height:var(--pfe-theme--line-height,1.5)}.pfe-dropdown__menu{display:none;position:absolute;top:calc(100% + .25rem);z-index:97;z-index:var(--pfe-theme--zindex--overlay,97);padding:var(--pfe-dropdown__menu--spacing--vertical) 0;padding:var(--pfe-dropdown__menu--spacing--vertical) var(--pfe-dropdown__menu--spacing--horizontal,var(--pfe-dropdown--SpacingHorizontal,0));margin:0;margin:var(--pfe-dropdown__menu--Margin,0);background:#fff;background:var(--pfe-dropdown__menu--BackgroundColor,var(--pfe-theme--color--surface--lightest,#fff));background-clip:padding-box;border-width:1px;border-width:var(--pfe-dropdown__menu--BorderWidth,var(--pfe-theme--ui--border-width,1px));border-style:solid;border-style:var(--pfe-dropdown__menu--BorderStyle,var(--pfe-theme--ui--border-style,solid));border-color:transparent;border-color:var(--pfe-dropdown__menu--BorderColor,transparent);-webkit-box-shadow:0 .0625rem .125rem 0 rgba(3,3,3,.2);box-shadow:0 .0625rem .125rem 0 rgba(3,3,3,.2);-webkit-box-shadow:var(--pfe-dropdown__menu--BoxShadow,var(--pfe-theme--box-shadow--sm,0 .0625rem .125rem 0 rgba(3,3,3,.2)));box-shadow:var(--pfe-dropdown__menu--BoxShadow,var(--pfe-theme--box-shadow--sm,0 .0625rem .125rem 0 rgba(3,3,3,.2)));list-style:none;-webkit-box-sizing:border-box;box-sizing:border-box;min-width:100%;min-width:var(--pfe-dropdown__menu--MinWidth,100%)}.pfe-dropdown__menu.open{display:block}\n/*# sourceMappingURL=pfe-dropdown.min.css.map */\n</style><div class=\"pfe-dropdown__container\">\n  <button class=\"pfe-dropdown__toggle\" type=\"button\" aria-haspopup=\"menu\" aria-controls=\"pfe-dropdown-menu\"\n    id=\"pfe-dropdown-toggle\">\n    <span class=\"pfe-dropdown__toggle-text\"></span>\n    <svg class=\"pfe-dropdown__toggle-icon\" viewBox=\"0 0 320 512\" aria-hidden=\"true\" role=\"img\">\n      <path\n        d=\"M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z\">\n      </path>\n    </svg>\n  </button>\n  <ul class=\"pfe-dropdown__menu\" role=\"menu\" aria-labelledby=\"pfe-dropdown-toggle\" id=\"pfe-dropdown-menu\">\n    <slot></slot>\n  </ul>\n</div>`;\n  }\n\n  static get properties() {\n    return {\"label\":{\"title\":\"Menu button label\",\"type\":\"string\",\"default\":\"Dropdown\",\"prefixed\":true},\"is_disabled\":{\"title\":\"Disable menu button\",\"type\":\"boolean\",\"default\":false,\"prefixed\":false}};\n  }\n\n  static get slots() {\n    return {};\n  }\n  static get tag() {\n    return \"pfe-dropdown\";\n  }\n\n  get templateUrl() {\n    return \"pfe-dropdown.html\";\n  }\n\n  get styleUrl() {\n    return \"pfe-dropdown.scss\";\n  }\n\n  get schemaUrl() {\n    return \"pfe-dropdown.json\";\n  }\n\n  static get observedAttributes() {\n    return [\"pfe-label\", \"is_disabled\"];\n  }\n\n  set pfeDropdownOptions(options) {\n    this._modifyDOM(options);\n  }\n\n  static get events() {\n    return {\n      change: `${this.tag}:change`\n    };\n  }\n\n  constructor() {\n    super(PfeDropdown);\n\n    // state\n    this.isOpen = false;\n\n    this._init = this._init.bind(this);\n\n    // elements\n    this._container = this.shadowRoot.querySelector(`#${this.tag}-container`);\n    this._toggle = this.shadowRoot.querySelector(`#${this.tag}-toggle`);\n    this._toggle_text = this._toggle.querySelector(`.${this.tag}__toggle-text`);\n    this._menu = this.shadowRoot.querySelector(`#${this.tag}-menu`);\n\n    // events\n    this.open = this.open.bind(this);\n    this.close = this.close.bind(this);\n\n    this._clickHandler = this._clickHandler.bind(this);\n    this._toggleKeydownHandler = this._toggleKeydownHandler.bind(this);\n    this._itemKeydownHandler = this._itemKeydownHandler.bind(this);\n    this._itemClickHandler = this._itemClickHandler.bind(this);\n    this._outsideClickHandler = this._outsideClickHandler.bind(this);\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    document.addEventListener(\"click\", this._outsideClickHandler);\n    Promise.all([\n      customElements.whenDefined(PfeDropdown.tag),\n      customElements.whenDefined(PfeDropdownItem.tag)\n    ]).then(() => {\n      this._init();\n    });\n  }\n\n  disconnectedCallback() {\n    this._toggle.removeEventListener(\"click\", this._clickHandler);\n    this._toggle.removeEventListener(\"keydown\", this._toggleKeydownHandler);\n    this._allItems().forEach(item => {\n      item.removeEventListener(\"keydown\", this._itemKeydownHandler);\n      item.removeEventListener(\"click\", this._itemClickHandler);\n    });\n  }\n\n  attributeChangedCallback(attr, oldValue, newValue) {\n    switch (attr) {\n      case \"pfe-label\":\n        this._toggle_text.textContent = newValue;\n        break;\n      case \"is_disabled\":\n        this._setDisabled();\n        break;\n      default:\n        break;\n    }\n  }\n\n  _init() {\n    if (this.children.length) {\n      if (!this.hasAttribute(\"is_disabled\")) {\n        this._toggle.addEventListener(\"click\", this._clickHandler);\n        this._toggle.addEventListener(\"keydown\", this._toggleKeydownHandler);\n        this._allItems().forEach(item => {\n          item.addEventListener(\"keydown\", this._itemKeydownHandler);\n          item.addEventListener(\"click\", this._itemClickHandler);\n        });\n      }\n    }\n  }\n\n  // Event handler for click event on Dropdown button\n  _clickHandler(event) {\n    this.isOpen ? this.close(event) : this.open(event);\n    return this;\n  }\n\n  // Event handler for click event on Dropdown Item\n  _itemClickHandler(event) {\n    let pfeType;\n    if (event.target.parentElement.attributes[\"pfe-item-type\"]) {\n      pfeType = event.target.parentElement.attributes[\"pfe-item-type\"].value;\n    }\n    this._selectItem(event.target, pfeType);\n    return this;\n  }\n\n  // Event handler for keydown events on Dropdown Menu\n  _itemKeydownHandler(event) {\n    let newItem;\n    let pfeType;\n    if (event.target.attributes[\"pfe-item-type\"]) {\n      pfeType = event.target.attributes[\"pfe-item-type\"].value;\n    }\n    // active dropdown item index\n    const currentIndex = this._allItems().findIndex(\n      item => item === document.activeElement\n    );\n    switch (event.keyCode) {\n      case KEYCODE.ENTER:\n        this._selectItem(event.target.children[0], pfeType);\n        break;\n      case KEYCODE.ESC:\n        this.close(event);\n        break;\n      case KEYCODE.RIGHT:\n      case KEYCODE.DOWN:\n        // get the following item\n        newItem = this._itemContainer(this._nextItem(currentIndex, 1));\n        break;\n      case KEYCODE.LEFT:\n      case KEYCODE.UP:\n        // get the previous item\n        newItem = this._itemContainer(this._nextItem(currentIndex, -1));\n        break;\n      case KEYCODE.HOME:\n        newItem = this._firstItem();\n        break;\n      case KEYCODE.END:\n        newItem = this._lastItem();\n        break;\n      case KEYCODE.TAB:\n        this.close();\n        break;\n      default:\n        break;\n    }\n    if (newItem) {\n      newItem.setAttribute(\"tabindex\", \"-1\");\n      newItem.focus();\n    }\n    return this;\n  }\n\n  // Event handler for click event outside the Dropdown element\n  _outsideClickHandler(event) {\n    // Check if the clicked element is the dropdown object\n    let isSelf = event.target === this;\n    // Check if the clicked element contains or is contained by the dropdown element\n    let isChild = event.target.closest(\"pfe-dropdown\");\n    let insideWrapper =\n      event.target.tagName.indexOf(\"-\") > -1\n        ? event.target.shadowRoot.querySelector(\"pfe-dropdown\")\n        : null;\n    // Check states to determine if the dropdown menu should close\n    if (!isSelf && !(isChild || insideWrapper)) {\n      this.close();\n    }\n  }\n\n  // Event handler for keydown event on Dropdown\n  _toggleKeydownHandler(event) {\n    switch (event.keyCode) {\n      case KEYCODE.ENTER:\n      case KEYCODE.DOWN:\n        if (this._allDisabled()) {\n          // toggle the dropdown if all items disabled\n          this.toggle(event);\n        } else {\n          // otherwise, get the next enabled item\n          this.open();\n          const item = this._itemContainer(this._nextItem(-1, 1));\n          item.setAttribute(\"tabindex\", \"-1\");\n          item.focus();\n        }\n        break;\n      case KEYCODE.TAB:\n        this.close();\n        break;\n      default:\n        break;\n    }\n    return this;\n  }\n\n  // modify DOM if custom options are passed in an array\n  _modifyDOM(options) {\n    options.forEach(el => {\n      let item;\n      switch (el.type) {\n        case \"link\":\n          item = document.createElement(\"a\");\n          item.setAttribute(\"href\", el.href ? el.href : \"#\");\n          break;\n        case \"action\":\n          item = document.createElement(\"button\");\n          break;\n        default:\n          break;\n      }\n      const option = document.createElement(\"pfe-dropdown-item\");\n      option.setAttribute(\"pfe-item-type\", el.type);\n      if (el.is_disabled) {\n        option.setAttribute(\"is_disabled\", el.is_disabled);\n      }\n      if (item) {\n        item.innerText = el.text ? el.text : \"\";\n        option.appendChild(item);\n      }\n      this.appendChild(option);\n    });\n  }\n\n  _setDisabled() {\n    const isDisabled = this.hasAttribute(\"is_disabled\");\n    if (isDisabled) {\n      this.setAttribute(\"aria-disabled\", \"true\");\n      this.setAttribute(\"tabindex\", \"-1\");\n    } else {\n      this.removeAttribute(\"is_disabled\");\n      this.setAttribute(\"aria-disabled\", \"false\");\n      this.removeAttribute(\"tabindex\");\n    }\n  }\n\n  _allItems() {\n    return [\n      ...this.querySelectorAll(\n        `${this.tag}-item:not([pfe-item-type='separator'])`\n      )\n    ];\n  }\n\n  _allDisabled() {\n    return (\n      this._allItems().find(item => !item.hasAttribute(\"is_disabled\")) ===\n      undefined\n    );\n  }\n\n  _nextItem(currentPosition, direction) {\n    const items = this._allItems();\n    let index = (currentPosition + direction) % items.length;\n    index = index < 0 ? index + items.length : index;\n    let item = items[index];\n    while (item && item.hasAttribute(\"is_disabled\")) {\n      index += direction;\n      item = items[index % items.length];\n    }\n    return item;\n  }\n\n  _firstItem() {\n    const items = this._allItems();\n    return items[0];\n  }\n\n  _lastItem() {\n    const items = this._allItems();\n    return items[items.length - 1];\n  }\n\n  _selectItem(item, type) {\n    if (type === \"action\") {\n      this.emitEvent(PfeDropdown.events.change, {\n        detail: { action: item.innerText }\n      });\n      this.close(event);\n    } else {\n      item.click();\n    }\n  }\n\n  addDropdownOptions(options) {\n    this._modifyDOM(options);\n  }\n\n  open(event) {\n    if (event) {\n      event.preventDefault();\n    }\n    this.isOpen = true;\n    this._menu.classList.add(\"open\");\n    this._toggle.setAttribute(\"aria-expanded\", true);\n    return this;\n  }\n\n  close(event) {\n    if (event) {\n      event.preventDefault();\n    }\n    this.isOpen = false;\n    this._menu.classList.remove(\"open\");\n    this._toggle.setAttribute(\"aria-expanded\", false);\n    return this;\n  }\n\n  toggle(event) {\n    this.isOpen ? this.close(event) : this.open(event);\n  }\n\n  _itemContainer(item) {\n    // used to apply the focus state to the item's container\n    return item.shadowRoot.querySelector(`.${this.tag}-item__container`);\n  }\n}\n\nPFElement.create(PfeDropdownItem);\nPFElement.create(PfeDropdown);\n\nexport default PfeDropdown;\n"],"names":["PfeDropdownItem","_container","shadowRoot","querySelector","tag","_item","assignedNodes","attr","oldValue","newValue","_setAccessibility","_setDisabled","type","getAttribute","setAttribute","removeAttribute","isDisabled","hasAttribute","PFElement","Element","prototype","closest","s","el","matches","parentElement","parentNode","nodeType","msMatchesSelector","webkitMatchesSelector","KEYCODE","DOWN","END","ENTER","ESC","HOME","LEFT","RIGHT","SPACE","UP","TAB","PfeDropdown","options","_modifyDOM","change","isOpen","_init","bind","_toggle","_toggle_text","_menu","open","close","_clickHandler","_toggleKeydownHandler","_itemKeydownHandler","_itemClickHandler","_outsideClickHandler","document","addEventListener","Promise","all","customElements","whenDefined","then","removeEventListener","_allItems","forEach","item","textContent","children","length","event","pfeType","target","attributes","value","_selectItem","newItem","currentIndex","findIndex","activeElement","keyCode","_itemContainer","_nextItem","_firstItem","_lastItem","focus","isSelf","isChild","insideWrapper","tagName","indexOf","_allDisabled","toggle","createElement","href","option","is_disabled","innerText","text","appendChild","querySelectorAll","find","undefined","currentPosition","direction","items","index","emitEvent","events","detail","action","click","preventDefault","classList","add","remove","create"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAAA;;;;;;;;;;;;;;;;;;;;;;;;;MA2BMA;;;;6BAKO;EACT;EAKD;;;6BAaiB;EAChB,aAAO,wBAAP;EACD;;;6BAEc;EACb,aAAO,wBAAP;EACD;;;6BAEe;EACd,aAAO,wBAAP;EACD;;;6BAjCoB;EACnB,aAAO,qBAAP;EACD;;;6BAUuB;EACtB,aAAO,EAAC,aAAY,EAAC,SAAQ,gBAAT,EAA0B,QAAO,QAAjC,EAA0C,QAAO,CAAC,MAAD,EAAQ,QAAR,EAAiB,WAAjB,CAAjD,EAA+E,WAAU,IAAzF,EAA8F,YAAW,IAAzG,EAAb,EAAP;EACD;;;6BAEkB;EACjB,aAAO,EAAP;EACD;;;6BACgB;EACf,aAAO,mBAAP;EACD;;;6BAc+B;EAC9B,aAAO,CAAC,eAAD,EAAkB,aAAlB,CAAP;EACD;;;EAED,6BAAc;EAAA;;EAAA,iIACNA,eADM;;EAGZ,UAAKC,UAAL,GAAkB,MAAKC,UAAL,CAAgBC,aAAhB,OAAkC,MAAKC,GAAvC,iBAAlB;EACA,UAAKC,KAAL,GAAa,MAAKH,UAAL,CAAgBC,aAAhB,CAA8B,MAA9B,EAAsCG,aAAtC,GAAsD,CAAtD,CAAb;EAJY;EAKb;;;;+CAEwBC,MAAMC,UAAUC,UAAU;EACjD,cAAQF,IAAR;EACE,aAAK,eAAL;EACE,eAAKG,iBAAL;EACA;EACF,aAAK,aAAL;EACE,eAAKC,YAAL;EACA;EACF;EACE;EARJ;EAUD;;;0CAEmB;EAClB;EACD;;;0CAEmB;EAClB,UAAI,KAAKV,UAAT,EAAqB;EACnB,YAAMW,OAAO,KAAKC,YAAL,CAAkB,eAAlB,CAAb;EACA,YAAID,IAAJ,EAAU;EACR,kBAAQA,IAAR;EACE,iBAAK,MAAL;EACE,mBAAKX,UAAL,CAAgBa,YAAhB,CAA6B,MAA7B,EAAqC,MAArC;EACA,mBAAKT,KAAL,IAAc,KAAKA,KAAL,CAAWS,YAAX,CAAwB,MAAxB,EAAgC,UAAhC,CAAd;EACA;EACF,iBAAK,QAAL;EACE,mBAAKb,UAAL,CAAgBa,YAAhB,CAA6B,MAA7B,EAAqC,UAArC;EACA,mBAAKT,KAAL,IAAc,KAAKA,KAAL,CAAWU,eAAX,CAA2B,MAA3B,CAAd;EACA;EACF,iBAAK,WAAL;EACE,mBAAKd,UAAL,CAAgBa,YAAhB,CAA6B,MAA7B,EAAqC,WAArC;EACA;EACF;EACE;EAbJ;EAeD;EACF;EACF;;;qCAEc;EACb,UAAME,aAAa,KAAKC,YAAL,CAAkB,aAAlB,CAAnB;EACA,UAAID,UAAJ,EAAgB;EACd,aAAKD,eAAL,CAAqB,UAArB;EACA,aAAKD,YAAL,CAAkB,eAAlB,EAAmC,MAAnC;EACD,OAHD,MAGO;EACL,aAAKC,eAAL,CAAqB,aAArB;EACA,aAAKD,YAAL,CAAkB,UAAlB,EAA8B,GAA9B;EACA,aAAKA,YAAL,CAAkB,eAAlB,EAAmC,OAAnC;EACD;EACF;;;IAjG2BI;;EC3B9B;;;;;;;;;;;;;;;;;;;;;;;;;EA4BA;EACA;EACA,IAAI,CAACC,QAAQC,SAAR,CAAkBC,OAAvB,EAAgC;EAC9BF,UAAQC,SAAR,CAAkBC,OAAlB,GAA4B,UAASC,CAAT,EAAY;EACtC,QAAIC,KAAK,IAAT;EACA,OAAG;EACD,UAAIA,GAAGC,OAAH,CAAWF,CAAX,CAAJ,EAAmB,OAAOC,EAAP;EACnBA,WAAKA,GAAGE,aAAH,IAAoBF,GAAGG,UAA5B;EACD,KAHD,QAGSH,OAAO,IAAP,IAAeA,GAAGI,QAAH,KAAgB,CAHxC;EAIA,WAAO,IAAP;EACD,GAPD;EAQD;;EAED;EACA;EACA,IAAI,CAACR,QAAQC,SAAR,CAAkBI,OAAvB,EAAgC;EAC9BL,UAAQC,SAAR,CAAkBI,OAAlB,GACEL,QAAQC,SAAR,CAAkBQ,iBAAlB,IACAT,QAAQC,SAAR,CAAkBS,qBAFpB;EAGD;;EAED,IAAMC,UAAU;EACdC,QAAM,EADQ;EAEdC,OAAK,EAFS;EAGdC,SAAO,EAHO;EAIdC,OAAK,EAJS;EAKdC,QAAM,EALQ;EAMdC,QAAM,EANQ;EAOdC,SAAO,EAPO;EAQdC,SAAO,AAAK,EARE;EASdC,MAAI,EATU;EAUdC,OAAK;EAVS,CAAhB;;MAaMC;;;;6BAKO;EACT;EAgBD;;;6BAaiB;EAChB,aAAO,mBAAP;EACD;;;6BAEc;EACb,aAAO,mBAAP;EACD;;;6BAEe;EACd,aAAO,mBAAP;EACD;;;2BAMsBC,SAAS;EAC9B,WAAKC,UAAL,CAAgBD,OAAhB;EACD;;;6BApDoB;EACnB,aAAO,qBAAP;EACD;;;6BAqBuB;EACtB,aAAO,EAAC,SAAQ,EAAC,SAAQ,mBAAT,EAA6B,QAAO,QAApC,EAA6C,WAAU,UAAvD,EAAkE,YAAW,IAA7E,EAAT,EAA4F,eAAc,EAAC,SAAQ,qBAAT,EAA+B,QAAO,SAAtC,EAAgD,WAAU,KAA1D,EAAgE,YAAW,KAA3E,EAA1G,EAAP;EACD;;;6BAEkB;EACjB,aAAO,EAAP;EACD;;;6BACgB;EACf,aAAO,cAAP;EACD;;;6BAc+B;EAC9B,aAAO,CAAC,WAAD,EAAc,aAAd,CAAP;EACD;;;6BAMmB;EAClB,aAAO;EACLE,gBAAW,KAAKxC,GAAhB;EADK,OAAP;EAGD;;;EAED,yBAAc;EAAA;;EAGZ;EAHY,yHACNqC,WADM;;EAIZ,UAAKI,MAAL,GAAc,KAAd;;EAEA,UAAKC,KAAL,GAAa,MAAKA,KAAL,CAAWC,IAAX,OAAb;;EAEA;EACA,UAAK9C,UAAL,GAAkB,MAAKC,UAAL,CAAgBC,aAAhB,OAAkC,MAAKC,GAAvC,gBAAlB;EACA,UAAK4C,OAAL,GAAe,MAAK9C,UAAL,CAAgBC,aAAhB,OAAkC,MAAKC,GAAvC,aAAf;EACA,UAAK6C,YAAL,GAAoB,MAAKD,OAAL,CAAa7C,aAAb,OAA+B,MAAKC,GAApC,mBAApB;EACA,UAAK8C,KAAL,GAAa,MAAKhD,UAAL,CAAgBC,aAAhB,OAAkC,MAAKC,GAAvC,WAAb;;EAEA;EACA,UAAK+C,IAAL,GAAY,MAAKA,IAAL,CAAUJ,IAAV,OAAZ;EACA,UAAKK,KAAL,GAAa,MAAKA,KAAL,CAAWL,IAAX,OAAb;;EAEA,UAAKM,aAAL,GAAqB,MAAKA,aAAL,CAAmBN,IAAnB,OAArB;EACA,UAAKO,qBAAL,GAA6B,MAAKA,qBAAL,CAA2BP,IAA3B,OAA7B;EACA,UAAKQ,mBAAL,GAA2B,MAAKA,mBAAL,CAAyBR,IAAzB,OAA3B;EACA,UAAKS,iBAAL,GAAyB,MAAKA,iBAAL,CAAuBT,IAAvB,OAAzB;EACA,UAAKU,oBAAL,GAA4B,MAAKA,oBAAL,CAA0BV,IAA1B,OAA5B;EAtBY;EAuBb;;;;0CAEmB;EAAA;;EAClB;EACAW,eAASC,gBAAT,CAA0B,OAA1B,EAAmC,KAAKF,oBAAxC;EACAG,cAAQC,GAAR,CAAY,CACVC,eAAeC,WAAf,CAA2BtB,YAAYrC,GAAvC,CADU,EAEV0D,eAAeC,WAAf,CAA2B/D,gBAAgBI,GAA3C,CAFU,CAAZ,EAGG4D,IAHH,CAGQ,YAAM;EACZ,eAAKlB,KAAL;EACD,OALD;EAMD;;;6CAEsB;EAAA;;EACrB,WAAKE,OAAL,CAAaiB,mBAAb,CAAiC,OAAjC,EAA0C,KAAKZ,aAA/C;EACA,WAAKL,OAAL,CAAaiB,mBAAb,CAAiC,SAAjC,EAA4C,KAAKX,qBAAjD;EACA,WAAKY,SAAL,GAAiBC,OAAjB,CAAyB,gBAAQ;EAC/BC,aAAKH,mBAAL,CAAyB,SAAzB,EAAoC,OAAKV,mBAAzC;EACAa,aAAKH,mBAAL,CAAyB,OAAzB,EAAkC,OAAKT,iBAAvC;EACD,OAHD;EAID;;;+CAEwBjD,MAAMC,UAAUC,UAAU;EACjD,cAAQF,IAAR;EACE,aAAK,WAAL;EACE,eAAK0C,YAAL,CAAkBoB,WAAlB,GAAgC5D,QAAhC;EACA;EACF,aAAK,aAAL;EACE,eAAKE,YAAL;EACA;EACF;EACE;EARJ;EAUD;;;8BAEO;EAAA;;EACN,UAAI,KAAK2D,QAAL,CAAcC,MAAlB,EAA0B;EACxB,YAAI,CAAC,KAAKtD,YAAL,CAAkB,aAAlB,CAAL,EAAuC;EACrC,eAAK+B,OAAL,CAAaW,gBAAb,CAA8B,OAA9B,EAAuC,KAAKN,aAA5C;EACA,eAAKL,OAAL,CAAaW,gBAAb,CAA8B,SAA9B,EAAyC,KAAKL,qBAA9C;EACA,eAAKY,SAAL,GAAiBC,OAAjB,CAAyB,gBAAQ;EAC/BC,iBAAKT,gBAAL,CAAsB,SAAtB,EAAiC,OAAKJ,mBAAtC;EACAa,iBAAKT,gBAAL,CAAsB,OAAtB,EAA+B,OAAKH,iBAApC;EACD,WAHD;EAID;EACF;EACF;;EAED;;;;oCACcgB,OAAO;EACnB,WAAK3B,MAAL,GAAc,KAAKO,KAAL,CAAWoB,KAAX,CAAd,GAAkC,KAAKrB,IAAL,CAAUqB,KAAV,CAAlC;EACA,aAAO,IAAP;EACD;;EAED;;;;wCACkBA,OAAO;EACvB,UAAIC,gBAAJ;EACA,UAAID,MAAME,MAAN,CAAajD,aAAb,CAA2BkD,UAA3B,CAAsC,eAAtC,CAAJ,EAA4D;EAC1DF,kBAAUD,MAAME,MAAN,CAAajD,aAAb,CAA2BkD,UAA3B,CAAsC,eAAtC,EAAuDC,KAAjE;EACD;EACD,WAAKC,WAAL,CAAiBL,MAAME,MAAvB,EAA+BD,OAA/B;EACA,aAAO,IAAP;EACD;;EAED;;;;0CACoBD,OAAO;EACzB,UAAIM,gBAAJ;EACA,UAAIL,gBAAJ;EACA,UAAID,MAAME,MAAN,CAAaC,UAAb,CAAwB,eAAxB,CAAJ,EAA8C;EAC5CF,kBAAUD,MAAME,MAAN,CAAaC,UAAb,CAAwB,eAAxB,EAAyCC,KAAnD;EACD;EACD;EACA,UAAMG,eAAe,KAAKb,SAAL,GAAiBc,SAAjB,CACnB;EAAA,eAAQZ,SAASV,SAASuB,aAA1B;EAAA,OADmB,CAArB;EAGA,cAAQT,MAAMU,OAAd;EACE,aAAKpD,QAAQG,KAAb;EACE,eAAK4C,WAAL,CAAiBL,MAAME,MAAN,CAAaJ,QAAb,CAAsB,CAAtB,CAAjB,EAA2CG,OAA3C;EACA;EACF,aAAK3C,QAAQI,GAAb;EACE,eAAKkB,KAAL,CAAWoB,KAAX;EACA;EACF,aAAK1C,QAAQO,KAAb;EACA,aAAKP,QAAQC,IAAb;EACE;EACA+C,oBAAU,KAAKK,cAAL,CAAoB,KAAKC,SAAL,CAAeL,YAAf,EAA6B,CAA7B,CAApB,CAAV;EACA;EACF,aAAKjD,QAAQM,IAAb;EACA,aAAKN,QAAQS,EAAb;EACE;EACAuC,oBAAU,KAAKK,cAAL,CAAoB,KAAKC,SAAL,CAAeL,YAAf,EAA6B,CAAC,CAA9B,CAApB,CAAV;EACA;EACF,aAAKjD,QAAQK,IAAb;EACE2C,oBAAU,KAAKO,UAAL,EAAV;EACA;EACF,aAAKvD,QAAQE,GAAb;EACE8C,oBAAU,KAAKQ,SAAL,EAAV;EACA;EACF,aAAKxD,QAAQU,GAAb;EACE,eAAKY,KAAL;EACA;EACF;EACE;EA3BJ;EA6BA,UAAI0B,OAAJ,EAAa;EACXA,gBAAQhE,YAAR,CAAqB,UAArB,EAAiC,IAAjC;EACAgE,gBAAQS,KAAR;EACD;EACD,aAAO,IAAP;EACD;;EAED;;;;2CACqBf,OAAO;EAC1B;EACA,UAAIgB,SAAShB,MAAME,MAAN,KAAiB,IAA9B;EACA;EACA,UAAIe,UAAUjB,MAAME,MAAN,CAAarD,OAAb,CAAqB,cAArB,CAAd;EACA,UAAIqE,gBACFlB,MAAME,MAAN,CAAaiB,OAAb,CAAqBC,OAArB,CAA6B,GAA7B,IAAoC,CAAC,CAArC,GACIpB,MAAME,MAAN,CAAaxE,UAAb,CAAwBC,aAAxB,CAAsC,cAAtC,CADJ,GAEI,IAHN;EAIA;EACA,UAAI,CAACqF,MAAD,IAAW,EAAEC,WAAWC,aAAb,CAAf,EAA4C;EAC1C,aAAKtC,KAAL;EACD;EACF;;EAED;;;;4CACsBoB,OAAO;EAC3B,cAAQA,MAAMU,OAAd;EACE,aAAKpD,QAAQG,KAAb;EACA,aAAKH,QAAQC,IAAb;EACE,cAAI,KAAK8D,YAAL,EAAJ,EAAyB;EACvB;EACA,iBAAKC,MAAL,CAAYtB,KAAZ;EACD,WAHD,MAGO;EACL;EACA,iBAAKrB,IAAL;EACA,gBAAMiB,OAAO,KAAKe,cAAL,CAAoB,KAAKC,SAAL,CAAe,CAAC,CAAhB,EAAmB,CAAnB,CAApB,CAAb;EACAhB,iBAAKtD,YAAL,CAAkB,UAAlB,EAA8B,IAA9B;EACAsD,iBAAKmB,KAAL;EACD;EACD;EACF,aAAKzD,QAAQU,GAAb;EACE,eAAKY,KAAL;EACA;EACF;EACE;EAlBJ;EAoBA,aAAO,IAAP;EACD;;EAED;;;;iCACWV,SAAS;EAAA;;EAClBA,cAAQyB,OAAR,CAAgB,cAAM;EACpB,YAAIC,aAAJ;EACA,gBAAQ7C,GAAGX,IAAX;EACE,eAAK,MAAL;EACEwD,mBAAOV,SAASqC,aAAT,CAAuB,GAAvB,CAAP;EACA3B,iBAAKtD,YAAL,CAAkB,MAAlB,EAA0BS,GAAGyE,IAAH,GAAUzE,GAAGyE,IAAb,GAAoB,GAA9C;EACA;EACF,eAAK,QAAL;EACE5B,mBAAOV,SAASqC,aAAT,CAAuB,QAAvB,CAAP;EACA;EACF;EACE;EATJ;EAWA,YAAME,SAASvC,SAASqC,aAAT,CAAuB,mBAAvB,CAAf;EACAE,eAAOnF,YAAP,CAAoB,eAApB,EAAqCS,GAAGX,IAAxC;EACA,YAAIW,GAAG2E,WAAP,EAAoB;EAClBD,iBAAOnF,YAAP,CAAoB,aAApB,EAAmCS,GAAG2E,WAAtC;EACD;EACD,YAAI9B,IAAJ,EAAU;EACRA,eAAK+B,SAAL,GAAiB5E,GAAG6E,IAAH,GAAU7E,GAAG6E,IAAb,GAAoB,EAArC;EACAH,iBAAOI,WAAP,CAAmBjC,IAAnB;EACD;EACD,eAAKiC,WAAL,CAAiBJ,MAAjB;EACD,OAvBD;EAwBD;;;qCAEc;EACb,UAAMjF,aAAa,KAAKC,YAAL,CAAkB,aAAlB,CAAnB;EACA,UAAID,UAAJ,EAAgB;EACd,aAAKF,YAAL,CAAkB,eAAlB,EAAmC,MAAnC;EACA,aAAKA,YAAL,CAAkB,UAAlB,EAA8B,IAA9B;EACD,OAHD,MAGO;EACL,aAAKC,eAAL,CAAqB,aAArB;EACA,aAAKD,YAAL,CAAkB,eAAlB,EAAmC,OAAnC;EACA,aAAKC,eAAL,CAAqB,UAArB;EACD;EACF;;;kCAEW;EACV,yCACK,KAAKuF,gBAAL,CACE,KAAKlG,GADP,4CADL;EAKD;;;qCAEc;EACb,aACE,KAAK8D,SAAL,GAAiBqC,IAAjB,CAAsB;EAAA,eAAQ,CAACnC,KAAKnD,YAAL,CAAkB,aAAlB,CAAT;EAAA,OAAtB,MACAuF,SAFF;EAID;;;gCAESC,iBAAiBC,WAAW;EACpC,UAAMC,QAAQ,KAAKzC,SAAL,EAAd;EACA,UAAI0C,QAAQ,CAACH,kBAAkBC,SAAnB,IAAgCC,MAAMpC,MAAlD;EACAqC,cAAQA,QAAQ,CAAR,GAAYA,QAAQD,MAAMpC,MAA1B,GAAmCqC,KAA3C;EACA,UAAIxC,OAAOuC,MAAMC,KAAN,CAAX;EACA,aAAOxC,QAAQA,KAAKnD,YAAL,CAAkB,aAAlB,CAAf,EAAiD;EAC/C2F,iBAASF,SAAT;EACAtC,eAAOuC,MAAMC,QAAQD,MAAMpC,MAApB,CAAP;EACD;EACD,aAAOH,IAAP;EACD;;;mCAEY;EACX,UAAMuC,QAAQ,KAAKzC,SAAL,EAAd;EACA,aAAOyC,MAAM,CAAN,CAAP;EACD;;;kCAEW;EACV,UAAMA,QAAQ,KAAKzC,SAAL,EAAd;EACA,aAAOyC,MAAMA,MAAMpC,MAAN,GAAe,CAArB,CAAP;EACD;;;kCAEWH,MAAMxD,MAAM;EACtB,UAAIA,SAAS,QAAb,EAAuB;EACrB,aAAKiG,SAAL,CAAepE,YAAYqE,MAAZ,CAAmBlE,MAAlC,EAA0C;EACxCmE,kBAAQ,EAAEC,QAAQ5C,KAAK+B,SAAf;EADgC,SAA1C;EAGA,aAAK/C,KAAL,CAAWoB,KAAX;EACD,OALD,MAKO;EACLJ,aAAK6C,KAAL;EACD;EACF;;;yCAEkBvE,SAAS;EAC1B,WAAKC,UAAL,CAAgBD,OAAhB;EACD;;;2BAEI8B,OAAO;EACV,UAAIA,KAAJ,EAAW;EACTA,cAAM0C,cAAN;EACD;EACD,WAAKrE,MAAL,GAAc,IAAd;EACA,WAAKK,KAAL,CAAWiE,SAAX,CAAqBC,GAArB,CAAyB,MAAzB;EACA,WAAKpE,OAAL,CAAalC,YAAb,CAA0B,eAA1B,EAA2C,IAA3C;EACA,aAAO,IAAP;EACD;;;4BAEK0D,OAAO;EACX,UAAIA,KAAJ,EAAW;EACTA,cAAM0C,cAAN;EACD;EACD,WAAKrE,MAAL,GAAc,KAAd;EACA,WAAKK,KAAL,CAAWiE,SAAX,CAAqBE,MAArB,CAA4B,MAA5B;EACA,WAAKrE,OAAL,CAAalC,YAAb,CAA0B,eAA1B,EAA2C,KAA3C;EACA,aAAO,IAAP;EACD;;;6BAEM0D,OAAO;EACZ,WAAK3B,MAAL,GAAc,KAAKO,KAAL,CAAWoB,KAAX,CAAd,GAAkC,KAAKrB,IAAL,CAAUqB,KAAV,CAAlC;EACD;;;qCAEcJ,MAAM;EACnB;EACA,aAAOA,KAAKlE,UAAL,CAAgBC,aAAhB,OAAkC,KAAKC,GAAvC,sBAAP;EACD;;;IAnWuBc;;EAsW1BA,UAAUoG,MAAV,CAAiBtH,eAAjB;EACAkB,UAAUoG,MAAV,CAAiB7E,WAAjB;;;;;;;;"}