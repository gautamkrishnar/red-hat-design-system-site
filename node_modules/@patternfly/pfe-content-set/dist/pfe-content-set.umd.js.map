{"version":3,"file":"pfe-content-set.umd.js","sources":["../_temp/pfe-content-set.umd.js"],"sourcesContent":["/*!\n * PatternFly Elements: PfeContentSet 1.0.0-prerelease.55\n * @license\n * Copyright 2020 Red Hat, Inc.\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n * \n*/\n\nimport PFElement from \"../../pfelement/dist/pfelement.umd\";\nimport PfeAccordion from \"../../pfe-accordion/dist/pfe-accordion.umd\";\nimport PfeTabs from \"../../pfe-tabs/dist/pfe-tabs.umd\";\n\nclass PfeContentSet extends PFElement {\n  static get version() {\n    return \"1.0.0-prerelease.55\";\n  }\n\n  get html() {\n    return `<style>:host{display:block}:host([hidden]){display:none}\n/*# sourceMappingURL=pfe-content-set.min.css.map */\n</style><slot></slot>`;\n  }\n\n  static get properties() {\n    return {\"vertical\":{\"title\":\"Vertical orientation\",\"type\":\"boolean\",\"default\":false,\"prefixed\":false},\"variant\":{\"title\":\"Variant\",\"type\":\"string\",\"enum\":[\"wind\",\"earth\"],\"default\":\"wind\",\"prefixed\":true},\"align\":{\"title\":\"Align\",\"type\":\"string\",\"enum\":[\"center\"],\"prefixed\":true},\"breakpoint\":{\"title\":\"Custom breakpoint\",\"type\":\"string\",\"prefixed\":true},\"tab-history\":{\"title\":\"Tab history\",\"type\":\"boolean\",\"default\":false,\"prefixed\":true}};\n  }\n\n  static get slots() {\n    return {\"default\":{\"title\":\"Default\",\"type\":\"array\",\"namedSlot\":false,\"items\":{\"oneOf\":[{\"$ref\":\"raw\"}]}}};\n  }\n  static get tag() {\n    return \"pfe-content-set\";\n  }\n\n  get templateUrl() {\n    return \"pfe-content-set.html\";\n  }\n\n  get styleUrl() {\n    return \"pfe-content-set.scss\";\n  }\n\n  get schemaUrl() {\n    return \"pfe-content-set.json\";\n  }\n\n  static get pfeType() {\n    return PFElement.pfeType.combo;\n  }\n\n  static get cascadingAttributes() {\n    return {\n      \"pfe-tab-history\": \"pfe-tabs\"\n    };\n  }\n\n  static get observedAttributes() {\n    return [\"pfe-tab-history\"];\n  }\n\n  get isTab() {\n    var breakpointValue;\n    if (this.hasAttribute(\"pfe-breakpoint\")) {\n      breakpointValue = this.getAttributeNode(\"pfe-breakpoint\").value;\n      breakpointValue = breakpointValue.replace(/\\D/g, \"\");\n    } else {\n      breakpointValue = 700;\n    }\n    return this.parentNode\n      ? this.parentNode.offsetWidth > breakpointValue\n      : window.outerWidth > breakpointValue;\n  }\n\n  get contentSetId() {\n    return this.id || this.getAttribute(\"pfe-id\") || this.randomId;\n  }\n\n  constructor() {\n    super(PfeContentSet, { delayRender: true });\n\n    this._init = this._init.bind(this);\n    this._observer = new MutationObserver(this._init);\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n\n    if (this.children.length) {\n      this._init();\n    }\n\n    this._observer.observe(this, { childList: true });\n  }\n\n  disconnectedCallback() {\n    this._observer.disconnect();\n  }\n\n  _init() {\n    if (window.ShadyCSS) {\n      this._observer.disconnect();\n    }\n\n    if (this.isTab) {\n      this._buildTabs();\n    } else {\n      this._buildAccordion();\n    }\n\n    this.render();\n    this.context_update();\n\n    if (window.ShadyCSS) {\n      setTimeout(() => {\n        this._observer.observe(this, { childList: true });\n      }, 0);\n    }\n  }\n\n  _buildAccordion() {\n    let accordion;\n\n    // Use the existing accordion if it exists\n    const existingAccordion = this.querySelector(\n      `[pfe-id=\"${this.contentSetId}\"]`\n    );\n\n    // Use a document fragment for efficiency\n    const fragment = document.createDocumentFragment();\n\n    // Create the accordion wrapper component or use the existing component\n    if (!existingAccordion) {\n      // Create the accordion wrapper component with a unique ID\n      accordion = document.createElement(\"pfe-accordion\");\n      accordion.setAttribute(\"pfe-id\", this.contentSetId);\n    } else {\n      accordion = existingAccordion;\n    }\n\n    // Iterate over each element in the light DOM\n    [...this.children].forEach(child => {\n      // If one of them has the attribute indicating they belong in the header region\n      if (child.hasAttribute(\"pfe-content-set--header\")) {\n        const header = document.createElement(\"pfe-accordion-header\");\n\n        header.appendChild(child);\n        accordion.appendChild(header);\n      }\n\n      if (child.hasAttribute(\"pfe-content-set--panel\")) {\n        const panel = document.createElement(\"pfe-accordion-panel\");\n\n        panel.appendChild(child);\n        accordion.appendChild(panel);\n      }\n    });\n\n    if (!existingAccordion) {\n      fragment.appendChild(accordion);\n      this.appendChild(fragment);\n    }\n  }\n\n  _buildTabs() {\n    let tabs;\n\n    // Use the existing tabs if they exist\n    let existingTabs = this.querySelector(`[pfe-id=\"${this.contentSetId}\"]`);\n\n    // Use a document fragment for efficiency\n    const fragment = document.createDocumentFragment();\n\n    // Create the tabs wrapper component or use the existing tabs\n    if (!existingTabs) {\n      tabs = document.createElement(\"pfe-tabs\");\n      tabs.setAttribute(\"pfe-id\", this.contentSetId);\n    } else {\n      tabs = existingTabs;\n    }\n\n    // Iterate over each element in the light DOM\n    [...this.children].forEach(child => {\n      // If one of them has the attribute indicating they belong in the panel region\n      if (child.hasAttribute(\"pfe-content-set--header\")) {\n        const header = document.createElement(\"pfe-tab\");\n\n        header.setAttribute(\"slot\", \"tab\");\n\n        if (child.id) {\n          header.setAttribute(\"pfe-id\", child.id);\n        }\n\n        header.appendChild(child);\n        tabs.appendChild(header);\n      }\n\n      if (child.hasAttribute(\"pfe-content-set--panel\")) {\n        const panel = document.createElement(\"pfe-tab-panel\");\n\n        panel.setAttribute(\"slot\", \"panel\");\n\n        if (child.id) {\n          panel.setAttribute(\"pfe-id\", child.id);\n        }\n\n        panel.appendChild(child);\n        tabs.appendChild(panel);\n      }\n    });\n\n    if (!existingTabs) {\n      fragment.appendChild(tabs);\n    }\n\n    // If the orientation is set to vertical, add that attribute to the tabs\n    if (this.vertical.value !== null && this.vertical.value !== false) {\n      tabs.setAttribute(\"vertical\", true);\n    }\n\n    // Pass the variant attribute down to the tabs component\n    if (this.variant.value !== this.variant.default) {\n      tabs.setAttribute(\"pfe-variant\", this.variant.value);\n    }\n\n    if (this.align.value) {\n      tabs.setAttribute(\"pfe-tab-align\", this.align.value);\n    }\n\n    if (this.hasAttribute(\"pfe-tab-history\")) {\n      tabs.setAttribute(\"pfe-tab-history\", true);\n    }\n\n    if (!existingTabs) {\n      this.appendChild(fragment);\n    }\n  }\n}\n\nPFElement.create(PfeContentSet);\n\nexport default PfeContentSet;\n"],"names":["PfeContentSet","breakpointValue","hasAttribute","getAttributeNode","value","replace","parentNode","offsetWidth","window","outerWidth","id","getAttribute","randomId","PFElement","pfeType","combo","delayRender","_init","bind","_observer","MutationObserver","children","length","observe","childList","disconnect","ShadyCSS","isTab","_buildTabs","_buildAccordion","render","context_update","setTimeout","accordion","existingAccordion","querySelector","contentSetId","fragment","document","createDocumentFragment","createElement","setAttribute","forEach","child","header","appendChild","panel","tabs","existingTabs","vertical","variant","default","align","create"],"mappings":"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"}