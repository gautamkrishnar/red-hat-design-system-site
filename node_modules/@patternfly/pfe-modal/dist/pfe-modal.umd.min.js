!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("../../pfelement/dist/pfelement.umd")):"function"==typeof define&&define.amd?define(["../../pfelement/dist/pfelement.umd"],t):e.PfeModal=t(e.PFElement)}(this,function(e){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e,String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{value:function(e,t){var o=0<t?0|t:0;return this.substring(o,o+e.length)===e}});var t=function(e,t,o){return t&&i(e.prototype,t),o&&i(e,o),e};function i(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,o){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:a(r,t,o)}if("value"in i)return i.value;var n=i.get;return void 0!==n?n.call(o):void 0}var o=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,e),t(r,[{key:"html",get:function(){return'<style>.pfe-modal__close{background-color:transparent;border:none;margin:0;padding:0;text-align:left}:host{display:block;position:relative}@media screen and (max-height:640px){:host{--pfe-modal--Padding:0 0 0 calc(var(--pfe-theme--container-padding, 16px) * 2)}}.pfe-modal__outer{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:fixed;height:100%;width:100%;top:0;left:0;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;z-index:99;z-index:var(--pfe-theme--zindex--modal,99)}.pfe-modal__outer[hidden]{display:none}.pfe-modal__overlay{position:fixed;height:100%;width:100%;top:0;left:0;background-color:rgba(21,21,21,.5);background-color:var(--pfe-modal__overlay--BackgroundColor,var(--pfe-theme--color--overlay,rgba(21,21,21,.5)));cursor:pointer}.pfe-modal__overlay[hidden]{display:none}.pfe-modal__window{--theme:var(--pfe-modal--theme, light);position:relative;max-width:94vw;max-width:var(--pfe-modal--MaxWidth--mobile,94vw);min-width:50vw;min-width:var(--pfe-modal--MinWidth,50vw);max-height:90vh;max-height:var(--pfe-modal--MaxHeight,90vh);margin:0 auto;-webkit-box-shadow:0 .1875rem .4375rem .1875rem rgba(3,3,3,.13),0 .6875rem 1.5rem 1rem rgba(3,3,3,.12);box-shadow:0 .1875rem .4375rem .1875rem rgba(3,3,3,.13),0 .6875rem 1.5rem 1rem rgba(3,3,3,.12);-webkit-box-shadow:var(--pfe-theme--box-shadow--lg,0 .1875rem .4375rem .1875rem rgba(3,3,3,.13),0 .6875rem 1.5rem 1rem rgba(3,3,3,.12));box-shadow:var(--pfe-theme--box-shadow--lg,0 .1875rem .4375rem .1875rem rgba(3,3,3,.13),0 .6875rem 1.5rem 1rem rgba(3,3,3,.12));background-color:#fff;background-color:var(--pfe-theme--color--surface--lightest,#fff);color:#151515;color:var(--pfe-theme--color--text,#151515);border-radius:2px;border-radius:var(--pfe-theme--ui--border-radius,2px)}@media screen and (min-width:640px){.pfe-modal__window{max-width:70vw;max-width:var(--pfe-modal--MaxWidth,70vw)}}.pfe-modal__container{position:relative;max-height:inherit}.pfe-modal__container[hidden]{display:none}.pfe-modal__content{overflow-y:auto;-ms-scroll-chaining:none;overscroll-behavior:contain;max-height:90vh;max-height:var(--pfe-modal--MaxHeight,90vh);padding:calc(16px * 2) calc(16px * 3.5) calc(16px * 2) calc(16px * 2);padding:var(--pfe-modal--Padding,calc(var(--pfe-theme--container-padding,16px) * 2) calc(var(--pfe-theme--container-padding,16px) * 3.5) calc(var(--pfe-theme--container-padding,16px) * 2) calc(var(--pfe-theme--container-padding,16px) * 2));-webkit-box-sizing:border-box;box-sizing:border-box}@media screen and (max-height:640px){.pfe-modal__content{--pfe-modal--Padding:var(--pfe-theme--container-padding, 16px) calc(var(--pfe-theme--container-padding, 16px) * 3) var(--pfe-theme--container-padding, 16px) var(--pfe-theme--container-padding, 16px)}}:host(:not([has_header])) .pfe-modal__content ::slotted(:nth-child(1)),:host(:not([has_header])) .pfe-modal__content ::slotted(:nth-child(2)){margin-top:0!important}.pfe-modal__content ::slotted([slot=pfe-modal--header]){margin-top:0!important}.pfe-modal__close{position:absolute;top:calc(16px * .25);top:calc(var(--pfe-theme--container-padding,16px) * .25);right:calc(16px * .25);right:calc(var(--pfe-theme--container-padding,16px) * .25);cursor:pointer;line-height:.5;padding:16px;padding:var(--pfe-theme--container-padding,16px)}@media screen and (min-width:640px){.pfe-modal__close{top:16px;top:var(--pfe-theme--container-padding,16px);right:16px;right:var(--pfe-theme--container-padding,16px)}}@media screen and (max-height:640px) and (min-width:640px){.pfe-modal__close{top:calc(16px / 2);top:calc(var(--pfe-theme--container-padding,16px)/ 2);right:calc(16px / 2);right:calc(var(--pfe-theme--container-padding,16px)/ 2)}}.pfe-modal__close>svg{fill:#151515;fill:var(--pfe-theme--color--text,#151515);height:20px;height:var(--pfe-theme--ui--element--size,20px);width:20px;width:var(--pfe-theme--ui--element--size,20px);height:calc(20px - 4px);height:var(--pfe-modal__close--size,calc(var(--pfe-theme--ui--element--size,20px) - 4px));width:calc(20px - 4px);width:var(--pfe-modal__close--size,calc(var(--pfe-theme--ui--element--size,20px) - 4px))}\n/*# sourceMappingURL=pfe-modal.min.css.map */\n</style><slot name="pfe-modal--trigger"></slot>\n<section class="pfe-modal__outer" hidden>\n\t<div class="pfe-modal__overlay"></div>\n\t<div class="pfe-modal__window" tabindex="0" role="dialog" hidden>\n\t\t<div class="pfe-modal__container">\n\t\t\t<div class="pfe-modal__content">\n\t\t\t\t<slot name="pfe-modal--header"></slot>\n\t\t\t\t<slot></slot>\n\t\t\t</div>\n\t\t\t<button class="pfe-modal__close" aria-label="Close dialog">\n\t\t\t\t<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32" viewBox="-11 11 22 23">\n\t\t\t\t\t<path d="M30 16.669v-1.331c0-0.363-0.131-0.675-0.394-0.938s-0.575-0.394-0.938-0.394h-10.669v-10.65c0-0.362-0.131-0.675-0.394-0.938s-0.575-0.394-0.938-0.394h-1.331c-0.363 0-0.675 0.131-0.938 0.394s-0.394 0.575-0.394 0.938v10.644h-10.675c-0.362 0-0.675 0.131-0.938 0.394s-0.394 0.575-0.394 0.938v1.331c0 0.363 0.131 0.675 0.394 0.938s0.575 0.394 0.938 0.394h10.669v10.644c0 0.363 0.131 0.675 0.394 0.938 0.262 0.262 0.575 0.394 0.938 0.394h1.331c0.363 0 0.675-0.131 0.938-0.394s0.394-0.575 0.394-0.938v-10.637h10.669c0.363 0 0.675-0.131 0.938-0.394 0.269-0.262 0.4-0.575 0.4-0.938z" transform="rotate(45)"/>\n\t\t\t\t</svg>\n\t\t\t</button>\n\t\t</div>\n\t</div>\n</section>'}},{key:"templateUrl",get:function(){return"pfe-modal.html"}},{key:"schemaUrl",get:function(){return"pfe-modal.json"}},{key:"styleUrl",get:function(){return"pfe-modal.scss"}}],[{key:"version",get:function(){return"1.0.0-prerelease.55"}},{key:"properties",get:function(){return{}}},{key:"slots",get:function(){return{trigger:{title:"Trigger",type:"array",namedSlot:!0,items:{oneOf:[{$ref:"raw"}]}},header:{title:"Header",type:"array",namedSlot:!0,items:{oneOf:[{$ref:"raw"}]}},body:{title:"Body",type:"array",namedSlot:!1,items:{oneOf:[{$ref:"raw"}]}}}}},{key:"tag",get:function(){return"pfe-modal"}},{key:"PfeType",get:function(){return e.PfeTypes.Container}},{key:"events",get:function(){return{open:this.tag+":open",close:this.tag+":close"}}}]),t(r,[{key:"connectedCallback",value:function(){a(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"connectedCallback",this).call(this),this._init(),this.addEventListener("keydown",this._keydownHandler),this._modalCloseButton.addEventListener("keydown",this._keydownHandler),this._modalCloseButton.addEventListener("click",this.close),this._overlay.addEventListener("click",this.close),this._observer.observe(this,{childList:!0})}},{key:"disconnectedCallback",value:function(){this.removeEventListener("keydown",this._keydownHandler),this._modalCloseButton.removeEventListener("click",this.close),this._modalCloseButton.removeEventListener("click",this.close),this._overlay.removeEventListener("click",this.close),this.trigger&&this.trigger.removeEventListener("click",this.open),this._observer.disconnect()}},{key:"attributeChangedCallback",value:function(e,t,o){a(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"attributeChangedCallback",this).call(this,e,t,o)}},{key:"_init",value:function(){if(this.trigger=this.querySelector('[slot="'+this.tag+'--trigger"]'),this.header=this.querySelector('[slot="'+this.tag+'--header"]'),this.body=[].concat(function(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}(this.querySelectorAll("*:not([slot])"))),this.trigger&&(this.trigger.addEventListener("click",this.open),this.removeAttribute("hidden")),this.header)this.header.setAttribute("id",this.header_id),this._modalWindow.setAttribute("aria-labelledby",this.header_id);else{var e=this.body.filter(function(e){return e.tagName.startsWith("H")});0<e.length?(e[0].setAttribute("id",this.header_id),this._modalWindow.setAttribute("aria-labelledby",this.header_id)):this.trigger&&this._modalWindow.setAttribute("aria-label",this.trigger.innerText)}}},{key:"_keydownHandler",value:function(e){var t=e.target||window.event.srcElement;switch(e.key||e.keyCode){case"Tab":case 9:return void(t===this._modalCloseButton&&(e.preventDefault(),this._modalWindow.focus()));case"Escape":case"Esc":case 27:return void this.close(e);case"Enter":case 13:return void(t===this.trigger&&this.open(e))}}},{key:"toggle",value:function(e){return this.isOpen?this.close(e):this.open(e),this}},{key:"open",value:function(e){e&&(e.preventDefault(),this.trigger=e?e.target:window.event.srcElement);var t={open:!0};return e&&this.trigger&&(t.trigger=this.trigger),this.isOpen=!0,this._modalWindow.removeAttribute("hidden"),this._overlay.removeAttribute("hidden"),this._outer.removeAttribute("hidden"),document.body.style.overflow="hidden",this._modalWindow.focus(),this.emitEvent(r.events.open,{detail:t}),this}},{key:"close",value:function(e){return e&&e.preventDefault(),this.isOpen=!1,this._modalWindow.setAttribute("hidden",!0),this._overlay.setAttribute("hidden",!0),this._outer.setAttribute("hidden",!0),document.body.style.overflow="auto",this.trigger&&(this.trigger.focus(),this.trigger=null),this.emitEvent(r.events.close,{detail:{open:!1}}),this}}]),r);function r(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,{type:r.PfeType}));return e.header_id=e.randomId,e.isOpen=!1,e._keydownHandler=e._keydownHandler.bind(e),e.toggle=e.toggle.bind(e),e.open=e.open.bind(e),e.close=e.close.bind(e),e._modalWindow=e.shadowRoot.querySelector("."+e.tag+"__window"),e._modalCloseButton=e.shadowRoot.querySelector("."+e.tag+"__close"),e._overlay=e.shadowRoot.querySelector("."+e.tag+"__overlay"),e._container=e.shadowRoot.querySelector("."+e.tag+"__container"),e._outer=e.shadowRoot.querySelector("."+e.tag+"__outer"),e._observer=new MutationObserver(function(){e._mapSchemaToSlots(e.tag,e.slots),e._init()}),e}return e.create(o),o});
//# sourceMappingURL=pfe-modal.umd.min.js.map
